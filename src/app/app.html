<table border="1" cellpadding="6">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Contact</th>
      <th>Email</th>
      <th>Role</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    @for (employee of employees(); track employee.id) {
    <tr>
      <td>{{ employee.id }}</td>
      <td>{{ employee.name }}</td>
      <td>{{ employee.contact }}</td>
      <td>{{ employee.email }}</td>
      <td>{{ employee.role }}</td>
      <td>
        <button (click)="startEdit(employee)">Edit</button>
        <button (click)="deleteEmployee(employee.id)">Delete</button>
      </td>
    </tr>
    }
  </tbody>
</table>
<br />

@if (editingId() !== null){
<form (ngSubmit)="saveEdit()" >
  <h3>Edit Employee</h3>
  <div>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" [(ngModel)]="formData().name" required />
  </div>

  <div>
    <label for="contact">Contact:</label>
    <input type="text" id="contact" name="contact" [(ngModel)]="formData().contact" required />
  </div>

  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" [(ngModel)]="formData().email" required />
  </div>

  <div>
    <label for="role">Role:</label>
    <input type="text" id="role" name="role" [(ngModel)]="formData().role" required />
  </div>

  <button type="submit">Save Changes</button>
  <button type="button" (click)="cancelEdit()">Cancel</button>
</form>
}

@if (editingId() === null){
<form (ngSubmit)="addEmployee()">
  <h3>Add Employee</h3>
  <div>
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" [(ngModel)]="formData().name" required />
  </div>

  <div>
    <label for="contact">Contact:</label>
    <input type="text" id="contact" name="contact" [(ngModel)]="formData().contact" required />
  </div>

  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" [(ngModel)]="formData().email" required />
  </div>

  <div>
    <label for="role">Role:</label>
    <input type="text" id="role" name="role" [(ngModel)]="formData().role" required />
  </div>

  <button type="submit">Add Employee</button>
</form>
}